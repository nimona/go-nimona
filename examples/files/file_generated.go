// Code generated by nimona.io/tools/codegen. DO NOT EDIT.

package main

import (
	object "nimona.io/pkg/object"
)

type (
	File struct {
		Metadata object.Metadata
		Name     string
		Blob     object.CID
	}
)

func (e *File) Type() string {
	return "nimona.io/File"
}

func (e *File) MarshalMap() (object.Map, error) {
	return e.ToObject().Map(), nil
}

func (e *File) MarshalObject() (*object.Object, error) {
	return e.ToObject(), nil
}

func (e File) ToObject() *object.Object {
	r := &object.Object{
		Type:     "nimona.io/File",
		Metadata: e.Metadata,
		Data:     object.Map{},
	}
	r.Data["name"] = object.String(e.Name)
	r.Data["blob"] = object.String(e.Blob)
	return r
}

func (e *File) UnmarshalMap(m object.Map) error {
	return e.FromObject(object.FromMap(m))
}

func (e *File) UnmarshalObject(o *object.Object) error {
	return e.FromObject(o)
}

func (e *File) FromObject(o *object.Object) error {
	e.Metadata = o.Metadata
	if v, ok := o.Data["name"]; ok {
		if t, ok := v.(object.String); ok {
			e.Name = string(t)
		}
	}
	if v, ok := o.Data["blob"]; ok {
		if t, ok := v.(object.String); ok {
			e.Blob = object.CID(t)
		}
	}
	return nil
}
