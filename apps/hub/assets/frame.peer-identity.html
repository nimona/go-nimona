{{- define "title" }}{{ end }}
{{- define "body" }}
<turbo-frame id="peer-identity">
  <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
    <dt class="text-sm font-medium text-gray-500">
      Identity PublicKey
    </dt>
    <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
      {{- if .PublicKey }}
        <code class="public-key">{{- .PublicKey }}</code>
      {{- else if .Link }}
        <form action="/peer/identity-link" method="post">
          <textarea class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none" rows="4" name="mnemonic"></textarea>
          <button type="submit" class="whitespace-nowrap inline-flex items-center justify-center px-2 py-1 border border-transparent rounded-md shadow-sm text-xs text-white bg-indigo-600 hover:bg-indigo-700">
            Link
          </button>
          <a href="/peer/identity">Cancel</a>
        </form>
      {{- else }}
        <a href="/peer/identity?link=true">Link existing identity</a>
        or
        <a href="/peer/identity-new">create new identity</a>
      {{- end }}
    </dd>
  </div>
  <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
    <dt class="text-sm font-medium text-gray-500">
      Identity Mnemonic Phrase
    </dt>
    <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
      {{- if .PublicKey }}
        {{- if .Show }}
          <code class="block mnemonic border-gray-200 border p-2 my-2 rounded-lg">{{ .PrivateBIP39 }}</code>
          <a href="/peer/identity" class="text-red-600 hover:text-red-700">Hide mnemonic phrase</a>
        {{- else }}
          <a href="/peer/identity?show=true" class="text-red-600 hover:text-red-700">Show mnemonic phrase</a>
        {{- end }}
      {{- else }}
        -
      {{- end }}
    </dd>
  </div>
</turbo-frame>
{{- end }}
