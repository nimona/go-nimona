{
	"name": "Go",
	"dockerFile": "Dockerfile",

	// Specifies a list of ports the container should publish
	"appPort": [
		9000
	],

	"runArgs": [
		// NOTE(@geoah): Having some issues with this with /go/pkg/mod perms.
		// Comment out the next line to run as root instead. Linux users, 
		// update Dockerfile with your user's UID/GID if not 1000.
		// "-u", "vscode",

		"--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined",

		// mount .ssh folder so we can commit etc
		"-v", "${env:HOME}${env:USERPROFILE}/.ssh:/root/.ssh:ro",
		
		// mount .git folder so it picks up our git config
		"-v", "${env:HOME}${env:USERPROFILE}/.git:/root/.git:ro"
	],

	// Use 'settings' to set *default* container specific settings.json values on container create. 
	// You can edit these settings after create using File > Preferences > Settings > Remote.
	"settings": { 
		"terminal.integrated.shell.linux": "/bin/zsh",
		"[go]": {
			"editor.formatOnSave": true,
			"editor.codeActionsOnSave": {
				"source.organizeImports": true
			}
		},
		"go.buildTags": "dev",
		"go.formatTool": "goimports",
		"go.lintTool":"golangci-lint",
		"go.lintOnSave": "file",
		"go.lintFlags": [
		  "--fast"
		],
		"go.vetOnSave": "off",
		"go.testFlags": [
			"-v",
			"-race",
			"-failfast"
		],
		"gopls": {
			"usePlaceholders": true,
			"completionDocumentation": true,
			"watchFileChanges": true
		},
		"go.useLanguageServer": true,
		"go.languageServerExperimentalFeatures": {
			"autoComplete": true,
			"documentSymbols": true,
			"findReferences": true,
			"format": false,
			"goToDefinition": true,
			"goToTypeDefinition": true,
			"hover": true,
			"signatureHelp": true,
			"rename": true,
			"workspaceSymbols": true,
			"diagnostics": false
		},
		"files.eol": "\n"
	},

	// Uncomment the next line to run commands after the container is created.
	"postCreateCommand": "make deps",

	"extensions": [
		"ms-vscode.go"
	]
}