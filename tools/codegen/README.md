# Nimona IDL Codegen

```nidl
package mochi.io/conversation

import nimona.io/crypto crypto

domain Conversation {
    event Created {
        name string
        topic string
        created string
        @signature crypto.Signature
    }
    event MessageAdded {
        conversation string
        body string
        created string
        @signature crypto.Signature
    }
}
```

```golang
// Code generated by nimona.io/tools/codegen. DO NOT EDIT.

package conversation

import (
    json "encoding/json"

    crypto "nimona.io/pkg/crypto"
    object "nimona.io/pkg/object"
)

type (
    ConversationCreated struct {
        Name      string           `json:"name:s"`
        Topic     string           `json:"topic:s"`
        Created   string           `json:"created:s"`
        Signature crypto.Signature `json:"@signature:o"`
    }
    ConversationMessageAdded struct {
        Conversation string           `json:"conversation:s"`
        Body         string           `json:"body:s"`
        Created      string           `json:"created:s"`
        Signature    crypto.Signature `json:"@signature:o"`
    }
)

func (e *ConversationCreated) ContextName() string {
    return "mochi.io/conversation/Conversation"
}

func (e *ConversationCreated) EventName() string {
    return "Created"
}

func (e *ConversationCreated) ContextName() string {
    return "mochi.io/conversation/Conversation.Created"
}

func (e *ConversationCreated) ToObject() object.Object {
    m := map[string]interface{}{
        "@ctx:s":   "mochi.io/conversation/Conversation",
        "@event:s": "Created",
    }
    b, _ := json.Marshal(e)
    json.Unmarshal(b, &m)
    return object.Object(m)
}

func (e *ConversationCreated) FromObject(o object.Object) error {
    b, _ := json.Marshal(map[string]interface{}(o))
    return json.Unmarshal(b, e)
}

func (e *ConversationMessageAdded) ContextName() string {
    return "mochi.io/conversation/Conversation"
}

func (e *ConversationMessageAdded) EventName() string {
    return "MessageAdded"
}

func (e *ConversationMessageAdded) ContextName() string {
    return "mochi.io/conversation/Conversation.MessageAdded"
}

func (e *ConversationMessageAdded) ToObject() object.Object {
    m := map[string]interface{}{
        "@ctx:s":   "mochi.io/conversation/Conversation",
        "@event:s": "MessageAdded",
    }
    b, _ := json.Marshal(e)
    json.Unmarshal(b, &m)
    return object.Object(m)
}

func (e *ConversationMessageAdded) FromObject(o object.Object) error {
    b, _ := json.Marshal(map[string]interface{}(o))
    return json.Unmarshal(b, e)
}
```
